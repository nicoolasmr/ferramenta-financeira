---
title: "Circuit Breakers: Evitando Falhas em Cascata"
excerpt: "O Asaas caiu. Seu sistema vai cair junto? Aprenda a implementar Circuit Breakers para isolar falhas de terceiros."
date: "2026-03-20T03:00:00.000Z"
category: "Tech & Engenharia"
tags: ["Resiliência", "Microserviços", "Circuit Breaker", "DevOps"]
readingTime: "8 min"
author: "RevenueOS Team"
---

# Quando o parceiro cai, você continua de pé?

Sua API depende do serviço de Nota Fiscal.
A prefeitura sai do ar (timeout de 30s).
Seu usuário clica "Emitir". Sua thread fica presa 30s esperando.
Entram mais 1000 usuários.
1000 threads presas.
Sua memória RAM estoura. **Seu sistema todo cai.**

Isso é uma Falha em Cascata. Para evitar, você precisa de um **Disjuntor (Circuit Breaker)**.

## Como funciona (Padrão 3 Estados)

1.  **Closed (Tudo bem):** Requests passam normalmente.
2.  **Open (Desarmado):** Se 5 requests falharem seguidos (ou demorarem > 5s), o disjuntor "abre".
    *   Novos requests recebem erro imediato (Fail Fast), sem nem tentar conectar na prefeitura.
    *   Isso protege suas threads.
3.  **Half-Open (Testando):** Após 30s, o sistema deixa passar 1 request de teste.
    *   Se funcionar: Fecha o circuito (volta ao normal).
    *   Se falhar: Abre de novo por mais 1 min.

## Bibliotecas

*   **Node.js:** Opossum, Cockatiel.
*   **Java:** Resilience4j.
*   **Go:** Gobreaker.

Não implemente chamadas HTTP externas sem isso. É irresponsabilidade operacional.

## No RevenueOS

Todas as nossas integrações (Stripe, Bancos, E-mail) são protegidas por Circuit Breakers.
Se o provedor de e-mail cair, nós enfileiramos as mensagens internamente, mas seu checkout continua rápido.

<CTABox 
  title="Resiliência de Infraestrutura" 
  subtitle="O RevenueOS foi desenhado para sobreviver a falhas da internet brasileira." 
  buttonText="Conhecer Nossos SLAs" 
  href="/sla" 
/>
