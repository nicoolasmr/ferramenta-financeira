---
title: "Event Sourcing: Reconstruindo o Passado Financeiro"
excerpt: "Banco de Dados tradicional não serve para dinheiro. Por que o Ledger do RevenueOS usa Event Sourcing para garantir auditabilidade total."
date: "2026-03-12T03:00:00.000Z"
category: "Tech & Engenharia"
tags: ["Event Sourcing", "Arquitetura", "Ledger", "Audit"]
readingTime: "12 min"
author: "RevenueOS Team"
---

# Por que UPDATE é proibido em Finanças

Em um CRUD normal:
`UPDATE accounts SET balance = 100 WHERE id = 1`

Se alguém perguntar "Quanto tinha ontem?", você não sabe. O dado foi destruído, sobrescrito.
Em sistemas financeiros, o saldo não é um número. **O saldo é a soma de todas as transações da história.**

## Event Sourcing na Prática

Ao invés de salvar o estado atual, salvamos o evento:
1.  `AccountCreated { id: 1, balance: 0 }`
2.  `Deposit { amount: 50 }`
3.  `Deposit { amount: 50 }`
4.  `Withdraw { amount: 20 }`

Para saber o saldo, replay: `0 + 50 + 50 - 20 = 80`.

## Vantagens
1.  **Viagem no Tempo:** "Qual era o saldo em 31/Dez?" Simplesmente pare o replay nessa data.
2.  **Audit Trail Imutável:** Ninguém pode "editar" o saldo. Só é possível criar uma "Transação de Correção".
3.  **Debug:** Se o saldo está errado, você sabe exatamente qual evento causou.

## O RevenueOS Ledger

Nosso core banking não usa SQL tradicional para saldos. Usa um Log Imutável.
Isso garante que se um auditor bater na sua porta, você tem a prova matemática de cada centavo.

<CTABox 
  title="Conheça o Ledger" 
  subtitle="A arquitetura de Event Sourcing que move bilhões sem perder um centavo." 
  buttonText="Deep Dive Técnico" 
  href="/blog/event-sourcing" 
/>
