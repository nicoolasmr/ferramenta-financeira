---
title: "A Verdade sobre Ledger: Por que seu banco de dados não serve"
excerpt: "Usar `saldo = saldo + x` funciona no dia 1. No dia 100, quando o auditor pedir o histórico, você vai chorar. A necessidade de imutabilidade."
date: "2026-04-27T03:00:00.000Z"
category: "Tech & Engenharia"
tags: ["Ledger", "Audit", "Database", "Verdade"]
readingTime: "9 min"
author: "RevenueOS Team"
---

# O Problema da Mutabilidade

Em um app normal, quando o usuário muda o nome, fazemos `UPDATE users SET name = 'Novo'`. O nome antigo some.
Em finanças, se fizermos `UPDATE accounts SET balance = 100`, perdemos a história de como chegamos lá.

## Auditoria Requer História

O auditor pergunta: "Por que o saldo é 100?".
Você precisa responder: "Era 0. Entrou 50 (Tx ID A). Entrou 70 (Tx ID B). Saiu 20 (Tx ID C)."

Se você não tem essa tabela de logs (Ledger) perfeitamente amarrada, você não tem um sistema financeiro, você tem uma calculadora anotada a lápis.

## Performance vs Integridade

Ledgers crescem rápido. Milhões de linhas.
Consultar o saldo somando tudo (`SELECT SUM(amount)`) fica lento.
A solução é usar **Snapshots**.
Todo dia à meia-noite, salvamos o saldo consolidado. Para saber o saldo agora, somamos (`Snapshot Ontem + Movimentos Hoje`).

O RevenueOS implementa essa arquitetura "Snapshot + Log" nativamente.

<CTABox 
  title="Ledger Enterprise" 
  subtitle="Não reinvente a roda contábil. Use nosso Ledger testado em batalha." 
  buttonText="Conhecer Ledger" 
  href="/features/ledger" 
/>
