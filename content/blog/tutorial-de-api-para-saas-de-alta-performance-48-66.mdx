---
title: "Autenticação em APIs B2B: API Key vs OAuth2"
excerpt: "Se você está construindo uma integração, qual método de segurança usar? Aprenda quando usar chaves estáticas e quando implementar o fluxo completo de OAuth."
date: "2026-03-07T03:00:00.000Z"
category: "API & Integrações"
tags: ["Segurança", "OAuth", "API Key", "JWT"]
readingTime: "10 min"
author: "RevenueOS Team"
---

# API Key vs OAuth2: Qual escolher para sua Integração?

Você está construindo uma API para parceiros. Como eles vão acessar seus dados?
A escolha errada aqui pode causar vazamento de dados massivo ou matar a experiência do desenvolvedor (DX).

Neste guia, vamos comparar os dois padrões de mercado.

## 1. API Keys (Chaves Estáticas)

O desenvolvedor gera uma string longa no seu dashboard (`sk_live_51Msz...`) e envia no header `Authorization: Bearer sk_live...`.

### Quando usar:
*   Integrações Server-to-Server (Backend para Backend).
*   Scripts e automações internas.
*   Quando o cliente é o "Dono" da conta.

### Prós:
*   Fácil de implementar (curl funciona na hora).
*   Simples de revogar (Rolling Keys).

### Contras:
*   Se vazar, dá acesso total (god mode).
*   Não tem escopo granular (geralmente).

## 2. OAuth2 (Fluxo de Consentimento)

O usuário vê uma tela "RevenueOS quer acessar sua conta do Google". Ele aprova, e você recebe um `access_token` temporário e um `refresh_token`.

### Quando usar:
*   Integrações em nome de terceiros (SaaS B2B2C).
*   Aplicativos Marketplace (Zapier, Slack).
*   Quando você precisa de acesso limitado (Scopes: `read_only`, `write_invoices`).

## 3. Melhorando a Segurança das API Keys

Se você optar por API Keys (padrão Stripe/RevenueOS):

1.  **Prefixos Claros:** Use prefixos como `sk_test_` e `sk_live_`. Isso ajuda GitHub e ferramentas de segurança a detectar vazamentos (Secret Scanning).
2.  **Masking:** Nunca mostre a chave completa no dashboard após a criação. Mostre apenas uma vez.
3.  **Permissions:** Permita criar chaves com escopos restritos ("Chave de Leitura", "Chave de Webhook").

## 4. Como o RevenueOS faz

Nós usamos uma abordagem híbrida robusta.
*   **Para Devs:** API Keys com prefixo e rotação automática.
*   **Para Apps:** Suportamos OAuth2 para que terceiros construam em cima da nossa plataforma.

<CTABox 
  title="Integre com Segurança" 
  subtitle="Descubra como nossa API protege os dados financeiros do seu cliente com padrões militares." 
  buttonText="Ver Guia de Segurança" 
  href="/security" 
/>
