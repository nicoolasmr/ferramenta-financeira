---
title: "Refatorando Legado: De SOAP para REST/GraphQL"
excerpt: "Como lidar com integrações bancárias legadas (XML, CNAB) sem contaminar sua nova arquitetura moderna."
date: "2026-05-17T03:00:00.000Z"
category: "Tech & Engenharia"
tags: ["Legacy", "Refactoring", "Bancos", "Integração"]
readingTime: "10 min"
author: "RevenueOS Team"
---

# O Dinossauro no Datacenter

Bancos brasileiros grandes ainda rodam mainframes COBOL. Eles falam troca de arquivos de texto (CNAB 400).
Seu sistema moderno em Node.js não quer lidar com posição de bytes em arquivo de texto.

## Pattern: Anti-Corruption Layer (ACL)

Crie um serviço isolado: `BankAdapter`.
*   Ele lê o CNAB horrível.
*   Ele converte para um JSON limpo e tipado.
*   Ele envia para seu Core via fila.

Seu Core nunca vê o CNAB. Ele só vê eventos bonitos: `payment_received`.
O RevenueOS serve como essa camada de anti-corrupção gigante para sua empresa. Nós lidamos com o lixo bancário, você lida com APIs REST.

<CTABox 
  title="Abstração Bancária" 
  subtitle="Esqueça layouts CNAB de 400 posições. Use nossa API padronizada." 
  buttonText="Ver Banking API" 
  href="/features/banking" 
/>
